<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <meta name="theme-color" content="#2563eb">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="Paper Stream">
    <meta name="format-detection" content="telephone=no">
    <meta name="mobile-web-app-capable" content="yes">
    <title>Paper Stream - Academic Paper Feed</title>
    <link rel="manifest" href="/manifest.json">
    <link rel="icon" href="/icon-192.png" type="image/png">
    <link rel="apple-touch-icon" href="/icon-192.png">
    <link rel="apple-touch-icon" sizes="192x192" href="/icon-192.png">
    <link rel="apple-touch-icon" sizes="512x512" href="/icon-512.png">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div id="app">
        <header class="header">
            <h1 id="main-title">üìÑ Paper Stream</h1>
            <div class="header-controls">
                <div class="search-container">
                    <input type="text" id="search-input" placeholder="Search papers..." class="search-input">
                    <button id="search-btn" class="btn-search shimmer-btn">üîç</button>
                </div>
                <button id="settings-btn" class="btn-secondary shimmer-btn">‚öôÔ∏è Settings</button>
            </div>
        </header>

        <div id="settings-panel" class="settings-panel hidden">
            <h2>Research Interests</h2>
            <div class="tags-input">
                <input type="text" id="tag-input" placeholder="Add research tag (e.g., machine learning, biology)">
                <button id="add-tag-btn" class="btn-primary shimmer-btn">Add</button>
            </div>
            <div id="tags-list" class="tags-list"></div>

            <div class="toggle-group">
                <label class="toggle">
                    <input type="checkbox" id="include-preprints" checked>
                    <span class="toggle-slider"></span>
                    Include Pre-prints
                </label>
            </div>

            <div class="filter-section">
                <h3>Filters</h3>
                
                <div class="filter-group">
                    <label for="source-filter">Source:</label>
                    <select id="source-filter" class="filter-select">
                        <option value="all">All Sources</option>
                        <option value="arXiv">arXiv</option>
                        <option value="OpenAlex">OpenAlex</option>
                        <option value="Semantic Scholar">Semantic Scholar</option>
                    </select>
                </div>

                <div class="filter-group">
                    <label for="date-range">Published:</label>
                    <select id="date-range" class="filter-select">
                        <option value="all">All Time</option>
                        <option value="week">Past Week</option>
                        <option value="month">Past Month</option>
                        <option value="year">Past Year</option>
                    </select>
                </div>

                <div class="filter-group">
                    <label for="sort-by">Sort by:</label>
                    <select id="sort-by" class="filter-select">
                        <option value="date">Publication Date</option>
                        <option value="relevance">Relevance</option>
                        <option value="source">Source</option>
                    </select>
                </div>
            </div>

            <div class="actions">
                <button id="refresh-feed-btn" class="btn-primary shimmer-btn">Refresh Feed</button>
                <button id="view-bookmarks-btn" class="btn-secondary shimmer-btn">üìö Bookmarks</button>
                <button id="close-settings-btn" class="btn-secondary shimmer-btn">Close</button>
            </div>
        </div>

        <main class="main">
            <div id="loading" class="loading hidden">
                <div class="spinner"></div>
                <p>Loading papers...</p>
            </div>
            
            <div id="error" class="error hidden">
                <p>Error loading papers. Please try again.</p>
                <button id="retry-btn" class="btn-primary shimmer-btn">Retry</button>
            </div>

            <div id="papers-container" class="papers-container">
                <div class="welcome-message">
                    <h2>Welcome to Paper Stream!</h2>
                    <p>Add your research interests in settings to start receiving personalized paper recommendations.</p>
                </div>
            </div>
        </main>
    </div>

    <!-- Magic UI Components -->
    <script src="components/text-shimmer.js"></script>
    <script src="components/particles.js"></script>
    <script src="components/animated-list.js"></script>
    <script src="components/shimmer-button.js"></script>
    <script src="components/warp-background.js"></script>
    
    <script src="app.js"></script>
</body>
</html>